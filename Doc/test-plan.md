# テスト計画書

## 概要
画面設計指示書に基づく包括的テスト計画

## 1. ログイン画面テスト計画

### 1.1 機能テスト
| テストケース | 内容 | 期待結果 | 優先度 |
|-------------|------|----------|--------|
| LT-001 | Worker Code入力時英字大文字変換 | 小文字入力が自動的に大文字に変換される | 高 |
| LT-002 | 作業者コードラベル表示 | 「作業者コード」と表示される | 中 |
| LT-003 | パスワードラベル表示 | 「パスワード」と表示される | 中 |
| LT-004 | ログインボタンテキスト | 「ログイン」と表示される | 中 |
| LT-005 | 不要要素の非表示 | 説明文、記憶する、SignUpリンクが表示されない | 高 |
| LT-006 | 正常ログイン | 有効な認証情報でEntry画面に遷移 | 高 |
| LT-007 | 異常ログイン | 無効な認証情報でエラー表示 | 高 |

### 1.2 UIテスト
- デザイン統一性の確認
- レスポンシブデザイン対応
- アクセシビリティチェック

## 2. Entry画面テスト計画

### 2.1 UI/レイアウトテスト
| テストケース | 内容 | 期待結果 | 優先度 |
|-------------|------|----------|--------|
| ET-001 | ページタイトル表示 | 「モンプチ レシート登録」と表示 | 中 |
| ET-002 | フィールドラベル日本語化 | 月、日、時、分が正しく表示 | 中 |
| ET-003 | レシート日時グループ化 | 枠線で囲まれ「レシート日時」ラベル表示 | 中 |
| ET-004 | 登録ボタンテキスト | 「登録」と表示される | 中 |

### 2.2 ハンバーガーメニューテスト
| テストケース | 内容 | 期待結果 | 優先度 |
|-------------|------|----------|--------|
| ET-005 | ハンバーガーメニュー表示 | 右上に適切に配置される | 高 |
| ET-006 | ログアウトメニュー（全ユーザー） | すべてのユーザーに表示される | 高 |
| ET-007 | ユーザー追加メニュー（J04のみ） | J04ユーザーのみに表示される | 高 |
| ET-008 | ユーザー追加メニュー（非J04） | J04以外のユーザーには表示されない | 高 |
| ET-009 | ログアウト機能実行 | ログアウト実行でログイン画面に遷移 | 高 |

### 2.3 キーボード操作テスト
| テストケース | 内容 | 期待結果 | 優先度 |
|-------------|------|----------|--------|
| ET-010 | Enterキーフォーカス移動 | Line_UID→月→日→時→分→NG理由→登録ボタン | 高 |
| ET-011 | Enterキー自動Submit無効 | フォーム送信されない | 高 |
| ET-012 | F5キークリップボード貼り付け | line_uidフィールドのみで動作 | 高 |
| ET-013 | F5キー他フィールド無効 | 他フィールドでは動作しない | 中 |
| ET-014 | F12キーフォーム送信 | バリデーション付きで送信実行 | 高 |
| ET-015 | 登録ボタンEnterキー | フォーカス時Enter押下で送信 | 高 |

### 2.4 バリデーションテスト
| テストケース | 内容 | 期待結果 | 優先度 |
|-------------|------|----------|--------|
| ET-016 | line_uid必須チェック | 空白時エラー表示 | 高 |
| ET-017 | 月日時分任意チェック | 空白でもエラーなし | 高 |
| ET-018 | F12送信バリデーション | バリデーション実行される | 高 |
| ET-019 | Enterキー送信バリデーション | バリデーション実行される | 高 |
| ET-020 | クリック送信バリデーション | バリデーション実行される | 高 |

### 2.5 UX改善テスト
| テストケース | 内容 | 期待結果 | 優先度 |
|-------------|------|----------|--------|
| ET-021 | 登録完了通知表示 | おしゃれな通知が表示される | 中 |
| ET-022 | フィールド初期化 | 登録後すべてのフィールドがクリア | 高 |
| ET-023 | デバッグ画面非表示 | Submit後デバッグ表示されない | 高 |

## 3. ユーザー追加機能テスト計画

### 3.1 モーダル表示テスト
| テストケース | 内容 | 期待結果 | 優先度 |
|-------------|------|----------|--------|
| UT-001 | モーダル開閉 | ハンバーガーメニューから正常に開閉 | 高 |
| UT-002 | タイトル表示 | 「ユーザー追加」と表示 | 中 |
| UT-003 | フィールド表示 | 作業者コード、パスワードフィールド表示 | 高 |
| UT-004 | ボタン配置 | キャンセル、登録ボタンが適切に配置 | 高 |

### 3.2 機能テスト
| テストケース | 内容 | 期待結果 | 優先度 |
|-------------|------|----------|--------|
| UT-005 | キャンセル機能 | 何もせずEntry画面に戻る | 高 |
| UT-006 | ユーザー登録機能 | workersテーブルに正常追加 | 高 |
| UT-007 | 登録完了通知 | フロートメッセージで通知表示 | 中 |
| UT-008 | 重複チェック | 既存ユーザーでエラー表示 | 高 |

## 4. 統合テスト計画

### 4.1 認証・認可テスト
| テストケース | 内容 | 期待結果 | 優先度 |
|-------------|------|----------|--------|
| IT-001 | ログイン→Entry遷移 | 正常に画面遷移される | 高 |
| IT-002 | セッション維持 | ページリロード後もログイン状態維持 | 高 |
| IT-003 | 権限チェック | J04ユーザーのみユーザー追加可能 | 高 |

### 4.2 データ整合性テスト
| テストケース | 内容 | 期待結果 | 優先度 |
|-------------|------|----------|--------|
| IT-004 | Entry登録データ | データベースに正常保存 | 高 |
| IT-005 | NG理由連携 | 選択したNG理由が正常保存 | 高 |
| IT-006 | Worker追加データ | 新規Workerがデータベースに保存 | 高 |

## 5. 性能テスト計画

### 5.1 レスポンス時間テスト
- ページ読み込み時間（目標: 2秒以内）
- フォーム送信レスポンス（目標: 1秒以内）
- モーダル表示速度（目標: 0.5秒以内）

### 5.2 負荷テスト
- 同時ユーザー数テスト
- 大量データ登録テスト

## 6. ブラウザ互換性テスト

### 6.1 対象ブラウザ
- Chrome (最新版)
- Firefox (最新版)
- Edge (最新版)
- Safari (最新版)

### 6.2 デバイステスト
- デスクトップ (1920x1080)
- タブレット (768x1024)
- モバイル (375x667)

## 7. アクセシビリティテスト

### 7.1 キーボード操作
- Tab順序の確認
- ショートカットキーの動作確認
- フォーカス表示の確認

### 7.2 スクリーンリーダー対応
- ラベルとフィールドの関連付け
- エラーメッセージの読み上げ
- モーダルのフォーカストラップ

## 8. セキュリティテスト

### 8.1 入力値検証
- XSS対策
- SQLインジェクション対策
- CSRF対策

### 8.2 認証・認可
- 未認証アクセス制御
- 権限外機能へのアクセス制御

## 9. 回帰テスト計画

### 9.1 既存機能影響確認
- 既存のログイン機能
- 既存のデータ表示機能
- 既存のAPI連携

### 9.2 自動テスト実装
- 単体テスト（Jest/Testing Library）
- E2Eテスト（Playwright/Cypress）

## 10. テスト実行スケジュール

### Phase 1: ログイン画面 (1日)
- 機能テスト実行
- UI/UXテスト実行

### Phase 2: Entry画面基本機能 (2日)
- レイアウトテスト
- バリデーションテスト

### Phase 3: Entry画面高度機能 (2日)
- キーボード操作テスト
- ハンバーガーメニューテスト

### Phase 4: ユーザー追加機能 (1日)
- モーダル機能テスト
- API連携テスト

### Phase 5: 統合・回帰テスト (1日)
- 全機能統合テスト
- 性能・セキュリティテスト
